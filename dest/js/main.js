function getSearchMap(){var a=null,b=null,c=null,d="",e=[],f=[];a=new Util.Map;for(var g=0,h=rule_datas.length;h>g;g++)b=rule_datas[g],null!=b.title&&null!=b.data&&(d=b.id,c={key:b.id,title:b.title,type:"detail",pid:"rule",data:b.data},a.put(d,c));for(var g=0,h=card_datas.length;h>g;g++)if(e=card_datas[g].data,null!=e&&0!=e.length)for(var i=0,j=e.length;j>i;i++)b=e[i],null!=b.title&&null!=b.data&&(d=b.id,c={key:b.id,title:b.title,type:"detail",pid:"sub-card",data:b.data},a.put(d,c));for(var g=0,h=str_datas.length;h>g;g++)if(null!=str_datas[g].array_datas&&0!=str_datas[g].array_datas.length){e=str_datas[g].array_datas;for(var i=0,j=e.length;j>i;i++)b=e[i],null!=b.title&&null!=b.data&&(d=b.id,c={key:b.id,title:b.title,type:"mult-detail",pid:"rule",data:b.data},a.put(d,c))}for(var g=0,h=heros_array.length;h>g;g++)if(e=heros_array[g],null!=e&&0!=e.length)for(var i=0,j=e.length;j>i;i++)if(f=e[i],null!=f&&0!=f.length)for(var k=0,l=f.length;l>k;k++)b=f[k],null!=b.title&&null!=b.data&&(d=b.data,c={key:b.data,title:b.title,type:"heros-detail",pid:"heros",data:b.data},a.put(d,c));return a}var Util={getRandomArray:function(a){var b=new Array,c=new Array,d=0;if(null==a||0==a.length)return b;c=a.slice(0);for(var e=0,f=c.length;f>e;e++)d=Math.floor(Math.random()*c.length),b[e]=c[d],c.splice(d,1);return b},arrayReDimensions:function(a){var b=[],c=[];if(null==a||0==a.length)return b;b=a[0].slice(0);for(var d=1,e=a.length;e>d;d++){c=a[d];for(var f=0,g=c.length;g>f;f++)b[f]=b[f].concat(c[f])}return b},Map:function(){this.keys=[],this.data={},this.put=function(a,b){null==this.data[a]&&this.keys.push(a),this.data[a]=b},this.get=function(a){return this.data[a]},this.contain=function(a){var b=this.data[a];return b?!0:!1},this.remove=function(a){for(var b=0;b<this.keys.length;b++)if(this.keys[b]==a){this.keys.splice(b,1);break}this.data[a]=null},this.removeAll=function(){var a=this;a.each(function(b){a.remove(b)})},this.each=function(a){if("function"==typeof a)for(var b=this.keys.length,c=0;b>c;c++){var d=this.keys[c];a(d,this.data[d],c)}},this.sort=function(a,b,c){var d=SortUtils.sortByField(this.getDataArr(),b,c);this.data={},this.keys=[];for(var e=0;e<d.length;e++)this.put(d[e][a],d[e])},this.entrys=function(){for(var a=this.keys.length,b=new Array(a),c=0;a>c;c++)b[c]={key:this.keys[c],value:this.data[this.keys[c]]};return b},this.getDataArr=function(){var a=[];return this.each(function(b,c){a.push(c)}),a},this.isEmpty=function(){return 0==this.keys.length},this.size=function(){return this.keys.length},this.findByAppId=function(a){for(var b=this.keys.length,c=new Array,d=0;b>d;d++){var e=this.keys[d];-1!=e.indexOf(a)&&c.push(this.data[e])}return c},this.findByMsgId=function(a){for(var b=this.keys.length,c=0;b>c;c++){var d=this.keys[c];if(-1!=d.indexOf(a))return this.data[d]}},this.toString=function(){for(var a="{",b=0;b<this.keys.length;b++,a+=","){var c=this.keys[b];a+=c+"="+this.data[c]}return a+="}"}}},PACKAGE_AMOUNT=7,search_array=getSearchMap(),metro_colors=["blue","green","red","yellow","pink","purple","lime","magenta","teal","turquoise","green-sea","emerald"];$(document).ready(function(){function a(){var a=0;$("#progress").hide(),J.show(),a=J.find("div.tkd-navbar").css("height"),J.css({"padding-top":a}),z({datas:rule_datas,$target_dom:L,click_fn:f}),z({datas:card_datas,$target_dom:M,click_fn:e}),D(heros_datas,K),B({datas:str_datas,$target_dom:N,click_fn:g}),package_array=n(),l("country_shu",K),J.find("#to-person-info").on("click",s),I.on("focus","input.input-search",t),$("#backtotop").on("click",v),H.scroll(u),O.find(".search-close").on("click",o),O.find("input").on("input",p),O.find("#search-submit").on("click",q),$rightDocker.is(":visible")&&$rightDocker.find("#rightDockerBtn").on("click",b)}function b(){var a=$(this).parents("#rightDocker"),b=0,d="false",e=a.find("#dockerPopover");return b=a.offset().left-e.width()-10,d=a.attr("data-had-event"),e.hasClass("in")?(e.removeClass("in"),!1):(e.css({left:b+"px"}),e.addClass("in"),void("true"!=d&&(a.attr("data-had-event","true"),$("html").on("click",function(a){if(!e.hasClass("in"))return!0;var b=$(a.target);return c(b,"rightDocker")?void 0:(e.removeClass("in"),!1)}))))}function c(a,b){var c=!1;return a.attr("id")===b?c=!0:a.parents("#"+b).length>0&&(c=!0),c}function d(){function a(a){for(var b="",c=0,d=a.length;d>c;c++)j=a[c],b+='<div class="thumbnail"><img src="'+j.img+'" alt="..."></div>',b+='<div><span class="blue">武将称号: </span><span>'+j.nickname+"</span></div>";return b}function b(a){var b="";if(null==a||0==a.length)return b;b+='<div><span class="blue">Online战功: </span></div>';for(var c=0,d=a.length;d>c;c++)j=a[c],b+="<div><span>"+j.online+"</span><span>——</span><span>"+j.content+"</span></div>";return b}function c(a){var b="";if(null==a||0==a.length)return b;b+='<div><span class="blue">武将技能: </span></div>';for(var c=0,d=a.length;d>c;c++)j=a[c],b+="<div>"+j.power+"</div>";return b}function d(a){var b="";if(null==a||0==a.length)return b;b+='<div><span class="blue">有问有答: </span></div>';for(var c=0,d=a.length;d>c;c++)j=a[c],j.q&&(b+='<div><span class="red">[Q]</span> '+j.q+"</div>"),j.a&&(b+='<div><span class="red">[A]</span> '+j.a+"</div>"),j.example&&(b+='<div><span class="red">例如 </span> '+j.example+"</div>");return b}function e(a){var b="";if(null==a||0==a.length)return b;b+='<div><span class="blue">身份局攻略: </span></div>';for(var c=0,d=a.length;d>c;c++)j=a[c],b+="<div>"+j.p+"</div>";return b}var f=$(this),g=null,i=null,j=null,k=[],l=[],m=["name","online","power","q","p"],n="",o="",p="",q="",r="";if(o=f.data("item-data"),k=heros_detail[o],null==k||0==k.length)return!1;if(p=f.parents("div.item-list").attr("id"),q=p+"-detail",g=$("#"+q),i=f.parents("div.main-panel"),h(g),r='<div class="panel panel-warning"><div class="panel-heading content-heading"></div><div class="sub-content panel-body"></div></div>',g.append(r),g.find("div.panel-heading").html("武将牌*"+f.attr("title")),r="",k.length!=m.length)return r="数组长度不统一, 加载页面失败！",g.find("div.panel-body").append(r),w(g,i),!1;for(var s=0,t=k.length;t>s;s++)switch(l=k[s],n=m[s]){case"name":r+=a(l);break;case"online":r+=b(l);break;case"power":r+=c(l);break;case"q":r+=d(l);break;case"p":r+=e(l)}g.find("div.panel-body").append(r),w(g,i),v()}function e(){var a=$(this);if($detail_panel=null,$main=null,_data_item=null,_datas=[],_parent_id="",_detail_id="",_html="",_color="",_color_index=0,_block_name="",_colors_len=metro_colors.length,_random_colors=Util.getRandomArray(metro_colors),_parent_id=a.parents("div.item-list").attr("id"),_detail_id=_parent_id+"-types",$detail_panel=$("#"+_detail_id),$main=a.parents("div.main-panel"),"card_heros"===a.attr("id"))return $main.find("ul.nav-tabs").find("#menu-heros > a").trigger("click"),!0;if(_datas=a.data("item-data"),null==_datas||0==_datas.length)return!1;h($detail_panel),_html='<div class="row sub-page item-list" id="sub-card">';for(var b=0,c=_datas.length;c>b;b++)_data_item=_datas[b],_color=_random_colors[_color_index],_block_name=_color,_color_index++,_color_index>_colors_len-1&&(_color_index=0),_data_item.title&&(_block_name=_data_item.title),_html+='<div class="col-sm-6 col-md-3"><div id="'+_data_item.id+'" class="thumbnail tile tile-medium tile-'+_color+' col-md-3"><a href="#"><h1>'+_block_name+"</h1></a></div></div>";_html+="</div>",$detail_panel.append(_html),$detail_panel.find("div.sub-page").find("div.tile-medium").each(function(a){var b=$(this),c=_datas[a].data;c&&(b.data("item-data",c),b.on("click",f))}),w($detail_panel,$main)}function f(){var a=$(this),b=null,c=null,d=null,e=[],f="",g="",i="",j=null,k="";if(e=a.data("item-data"),null==e||0==e.length)return!1;f=a.parents("div.item-list").attr("id"),g=f+"-detail",b=$("#"+g),c=a.parents("div.main-panel"),h(b),i='<div class="panel panel-warning"><div class="panel-heading content-heading"></div><div class="sub-content panel-body"></div></div>',b.append(i),i="";for(var l=0,m=e.length;m>l;l++)j=e[l],k=j.p,0!=l?j.img?i+='<div class="thumbnail"><img src="'+j.img+'" alt="..."></div>':j.id?i+='<div id="'+j.id+'">'+j.p+"</div>":-1!=k.indexOf("[A]")?(k=k.replace("[A]",""),i+='<div><span class="red">[A]</span> '+k+"</div>"):-1!=k.indexOf("[Q]")?(k=k.replace("[Q]",""),i+='<div><span class="red">[Q]</span> '+k+"</div>"):i+="<div>"+k+"</div>":b.find("div.panel-heading").html(j.p);b.find("div.panel-body").append(i),w(b,c),d=b.find("#"+a.attr("id")),d.length>0&&setTimeout(function(){var a=d.offset().top;a-=b.find("div.sub-navbar").height(),window.scrollTo(0,a)},1e3)}function g(){function a(){var a=$(this);return a.hasClass("disabled")?!1:(a.hasClass("previous")?m--:m++,c(m),v(),!1)}function b(){var a=($(this),e.find("#content-pager"));a.is(":visible")?a.hide():a.show()}function c(b){var c=[],d=[],f="",h=i.length;if(c=i[b],0>b||b>=h)return!1;g.empty();for(var j=0,k=c.length;k>j;j++)d=c[j],f+=d.img?'<div class="thumbnail"><img src="'+d.img+'" alt="..."></div>':"<div>"+d.p+"</div>";g.append(f),e.find("#content-pager").length>0&&e.find("#content-pager").remove(),f='<ul id="content-pager" class="pager content-pager"><li class="previous"><a href="javascript:void(0);">&laquo;上一页</a></li><li class="next"><a href="javascript:void(0);">下一页&raquo;</a></li></ul> ',e.append(f),e.find("#content-pager > li").on("click",a),f="(第"+(b+1)+"页  共"+h+"页)",g.prev("div.panel-heading").find("span.pager-tips").html(f),0===b&&e.find("#content-pager>li.previous").addClass("disabled"),b===i.length-1&&e.find("#content-pager>li.next").addClass("disabled")}var d=$(this),e=null,f=null,g=null,i=[],j="",k="",l="",m=0;return i=d.data("item-data"),null==i||0==i.length?!1:(j=d.parents("div.item-list").attr("id"),k=j+"-detail",e=$("#"+k),f=d.parents("div.main-panel"),h(e),l='<div class="panel panel-warning"><div class="panel-heading content-heading"></div><div class="sub-content panel-body"></div></div>',e.append(l),g=e.find("div.panel-body"),l="<span>"+d.attr("title")+"</span>",l+='<span class="pager-tips"></span>',e.find("div.panel-heading").append(l),g.append(l),c(m),g.on("click",b),w(e,f),void v())}function h(a){var b="",c="";return null==a?!1:(b=a.attr("id"),c='<div class="navbar sub-navbar navbar-default row"role="navigation"><div class="navbar-header col-xs-5 col-md-3 pull-left"><a href="##"class="navbar-brand logo-brand"><span class="glyphicon glyphicon-chevron-left back-ico"data-btntype="cancel"id="back-index"></span></a></div><form class="navbar-form navbar-right col-xs-7 col-md-4 row"role="search"><div class="form-group pull-left col-xs-12"><span class="glyphicon glyphicon-search tkd-search"></span><input type="text"data-parentId="'+b+'"class="form-control pull-right input-search"placeholder="搜索卡牌、攻略、规则"></div></form></div>',a.empty(),a.append(c),setTimeout(function(){a.css({"padding-top":a.find("div.sub-navbar").css("height")})},10),a)}function i(a){if(null==a&&a.find("div.loading-cont").length>0)return!1;var b='<div class="loading-cont"><div class="loading-ico"></div></div>';return a.append(b),!0}function j(a){return null==a?!1:(a.find(".loading-cont").remove(),!0)}function k(a){var b=null,c=[],d=[],e="",f="",g=0;if(null==a||""==a)return b;switch(e=a.split("_")[0]){case"package":f=package_title[a];for(name in package_title){if(a==name)break;g++}c=g==package_array.length?Util.arrayReDimensions(package_array):package_array[g],d=drMenu_type_datas.country.slice(1);break;case"country":f=country_title[a];for(name in country_title){if(a==name)break;g++}c=g==heros_array.length?Util.arrayReDimensions(heros_array):heros_array[g],d=drMenu_type_datas.package.slice(1);break;default:f="莫名武将"}return c.length>0&&(b={title:f,herosDatas:c,herosTypes:d}),b}function l(a,b){var c=[],e=[],f=[],g="",h=0,i="",j=null,l=null;return l=k(a),null==l?!1:(g=l.title,c=l.herosDatas,e=l.herosTypes,h=parseInt(c.length/2),f=m(c.slice(0,h),e.slice(0,h)),i='<div class="items-type" id="items-type" data-cur-name="'+a+'">'+g+"</div>",b.append(i),i='<div class="heros-list"></div>',b.append(i),B({datas:f,$target_dom:b.find(".heros-list"),click_fn:d}),j={datas:c,types:e,allshow:!1},b.find(".heros-list").data("dom-datas",j),!0)}function m(a,b){var c=[],d=null,e=null,f=null;if(0==a.length||0==b.length||a.length!=b.length)return c;for(var g=0,h=a.length;h>g;g++)d=a[g],e=b[g],f={group_name:e.title,id:e.id,array_datas:d},c.push(f);return c}function n(){var a=[],b=[],c=[];if(0==heros_array.length)return a;a=new Array(7);for(var d=0,e=heros_array.length;e>d;d++)if(b=heros_array[d],b.length==PACKAGE_AMOUNT)for(var f=0,g=a.length;g>f;f++)c=a[f],(null==c||0==c.legth)&&(c=[]),c.push(b[f]),a[f]=c;else console.log("索引为"+d+"的国家包异常!");return a}function o(){var a=$(this),b=a.prev("input"),c=a.parents(".navbar").find("#back-index"),d=a.parents(".navbar").find("#search-submit");return""==b.val()?!1:(b.val(""),c.show(),d.hide(),void a.addClass("hidden"))}function p(){var a=$(this),b=a.next(".search-close"),c=a.parents(".navbar").find("#back-index"),d=a.parents(".navbar").find("#search-submit");if(0==a.val().length)c.show(),d.hide(),b.hasClass("hidden")||b.addClass("hidden");else if(c.is(":visible"))return c.hide(),d.show(),b.removeClass("hidden"),!1}function q(){var a=$(this),b="";b=a.prevAll(".form-group").find("input").val(),r(b)}function r(a){var b=[],c=$("#search-info").find("div.search-list"),d=!1,e="";return null==a||""==a?!1:(e=c.data("old-key"),e==a?!1:(search_array.each(function(c,d){-1!=d.title.search(new RegExp(a,"i"))&&b.push(d)}),d=c.find("div.loading-cont").length>0?!0:!1,d||(c.data("old-key",a),c.empty(),i(c),b.length>0?setTimeout(function(){j(c),A(b,c)},500):setTimeout(function(){j(c),c.empty(),c.append('<div class="search-tips"><strong>所搜内容为空！</strong></div>')},500)),!0))}function s(){var a=$("#mainmenu"),b=$("#person-info");w(b,a)}function t(){var a=$("#search-info"),b=$(this),c=b.attr("data-parentId"),d=$("#"+c);w(a,d)}function u(){var a=$("body");$toTop=a.find("#backtotop"),$heros_list=null,_dom_datas=null,_scroll_bottom=!1,_has_loading=!1,a.scrollTop()>=150?$toTop.addClass("showme"):$toTop.removeClass("showme"),K.is(":visible")&&($heros_list=K.find("div.heros-list"),_dom_datas=$heros_list.data("dom-datas"),_scroll_bottom=$(document).scrollTop()+50>=$(document).height()-$(window).height()?!0:!1,_has_loading=$heros_list.find("div.loading-cont").length>0?!0:!1,_scroll_bottom&&_dom_datas&&!_dom_datas.allshow&&!_has_loading&&(i($heros_list),setTimeout(function(){var a=[],b=0;b=parseInt(_dom_datas.datas.length/2),a=m(_dom_datas.datas.slice(b),_dom_datas.types.slice(b)),j($heros_list),B({datas:a,$target_dom:$heros_list,is_empty:!1,click_fn:d}),_dom_datas.allshow=!0},1e3)))}function v(){window.scrollTo(0,0)}function w(a,b){if(null==a||null==b)return!1;if(b.hasClass("search-detail"))return b.find("#back-index").trigger("click"),!1;var c=function(){y(a,b)},d=a.find("#back-index");x(a,b),"true"!=a.attr("data-backEvent")?(d.on("click",c),a.attr("data-backEvent","true")):(d.off("click"),d.on("click",c))}function x(a,b){return null==a||null==b?!1:(b.css({"-webkit-transform":"translate3d(0,0,0)","-o-transform":"translate3d(0,0,0)",transform:"translate3d(0,0,0)"}),b.animate({"margin-left":"-"+b.css("width")},500,function(){var a=$(this);a.hide(),a.css("margin-left","0px")}),a.css({width:a.css("width"),"margin-left":a.css("width")}),a.show(),a.css({"-webkit-transform":"translate3d(0,0,0)","-o-transform":"translate3d(0,0,0)",transform:"translate3d(0,0,0)"}),void a.animate({"margin-left":"0px"},500,function(){var a=$(this);a.css({"-webkit-transform":"none","-o-transform":"none",transform:"none"}),a.css({width:"100%",position:"relative"})}))}function y(a,b){if(null==a||null==b)return!1;a.find("#back-index");b.css("margin-left","-"+b.css("width")),b.show(),b.css({"-webkit-transform":"translate3d(0,0,0)","-o-transform":"translate3d(0,0,0)",transform:"translate3d(0,0,0)"}),b.animate({"margin-left":"0px"},500,function(){}),a.css({"-webkit-transform":"translate3d(0,0,0)","-o-transform":"translate3d(0,0,0)",transform:"translate3d(0,0,0)"}),a.css({width:a.css("width"),position:"fixed"}),a.animate({"margin-left":a.css("width")},500,function(){var a=$(this);a.hide(),a.css({"margin-left":"0px",width:"100%"})})}function z(a){var b="",c="",d="",e=null,f=null,g=null,h=[],i={datas:[],$target_dom:null,click_fn:null};if($.extend(i,a),h=i.datas,f=i.$target_dom,g=i.click_fn,f.empty(),h&&h.length>0){for(var j=0,k=h.length;k>j;j++)e=h[j],e.id&&(d='id="'+e.id+'"'),c='<a href="##" title="'+e.title+'" class="list-group-item list-group-item-warning" '+d+' ><img class="pull-left list-item-img" src="'+e.icon_src+'" alt="'+e.title+'" ><h3 class="list-group-item-heading">'+e.title+'</h3><p class="list-group-item-text">'+e.content+"</p></a>",b+=c;return f.append(b),null!=g&&f.find("a.list-group-item").each(function(a){var b=$(this),c=h[a].data;c&&b.data("item-data",c),b.on("click",g)}),f}return f.html("数据异常！"),f}function A(a,b){if(null==a||null==b)return!1;var c="",e="",h=[],i=null;if(b.empty(),a&&a.length>0){c='<div class="list-group">';for(var j=0,k=a.length;k>j;j++)i=a[j],e="",e+='<div class="item-list search-item" id="search-'+i.pid+'">',e+='<a href="##" data-type="'+i.type+'" class="list-group-item list-group-item-warning" title="'+i.title+'">'+i.title+"</a>",e+="</div>",h.push(i.data),c+=e;return c+="</div>",b.append(c),b.find("a").each(function(a){var b=$(this),c=b.attr("data-type"),e=h[a];if(e)switch(b.data("item-data",e),c){case"detail":b.on("click",f);break;case"heros-detail":b.on("click",d);break;case"mult-detail":b.on("click",g)}}),b}return b.html("数据异常！"),b}function B(a){var b={datas:[],$target_dom:null,is_empty:!0,click_fn:null},c="",d=null,e=null,f=null;if($.extend(b,a),null==b.datas||0==b.datas.length)return b.$target_dom;b.is_empty&&b.$target_dom&&b.$target_dom.empty();for(var g=0,h=b.datas.length;h>g;g++)e=b.datas[g],e&&e.array_datas&&e.array_datas.length>0&&(c='<div class="str-btn dropup"><div class="btn btn-block btn-lg btn-app">'+e.group_name+'<span class="caret"></span></div><div role="tabpanel" class="list-group tab-pane fade rule active in" id="str_'+e.id+'"></div></div>',d=$(c),b.$target_dom.append(d),z({datas:e.array_datas,$target_dom:d.find("#str_"+e.id),click_fn:b.click_fn}));return f=b.$target_dom.find(".btn-app"),f.off("click"),f.on("click",function(){var a=$(this),b=a.parent();b.hasClass("dropup")?(b.removeClass("dropup"),b.find(".list-group").slideUp()):(b.addClass("dropup"),b.find(".list-group").slideDown())}),b.$target_dom}function C(a,b){var c=null,d="",e=null;if(null==a||0==a.length)return c;d='<ul class="dropdown-menu tkd-dropdown-menu" role="menu" aria-labelledby="class_type">';for(var f=0,g=a.length;g>f;f++)e=a[f],d+='<li role="presentation"><a role="menuitem" tabindex="-1" href="#" id="'+e.id+'">'+e.title+"</a></li>",g>f+1&&(d+='<li role="presentation" class="divider"></li>');return d+="</ul>",c=$(d),b.append(c),E(b),b}function D(a,b){var c=null,d="",e=null,f=[],g="pull-left",h=null;if(null==a||0==a.length)return b;b.empty(),d='<div class="heros-dropdownmenu row"></div>',b.append(d),h=b.find(".heros-dropdownmenu");for(var i=0,j=a.length;j>i;i++)c=a[i],f=c.datas||[],g=i%2==0?"pull-left":"pull-right",f.length>0&&(d='<div class="dropdown '+g+' col-xs-5 col-md-4"><button class="btn btn-pairs btn-lg dropdown-toggle" type="button" id="'+c.id+'" data-toggle="dropdown">'+c.title+'<span class="caret"></span>',e=$(d),C(f,e),h.append(e));return b}function E(a){var b=a.find("li > a");return b.on("click",function(){var a=$(this);switch(_id=this.id,_type=/drmenu/.test(_id)?"drmenu":/country/.test(_id)?"country":"package",$ul_parent=a.parents("div.tab-pane:first"),_type){case"drmenu":F(_id,$ul_parent);break;case"package":case"country":G(_id,$ul_parent);break;default:return!1}}),a}function F(a,b){var c="",d="",e="",f=null,g=null,h=[];if(null==a)return!1;if(c=a.replace("drmenu_",""),e=c+"_all",h=drMenu_type_datas[c],h.length>0){if(f=b.find(".dropdown:eq(1)"),g=b.find("#items-type"),d=g.attr("data-cur-name"),d===e)return!1;f.find("ul").remove(),C(h,f),G(e,b)}return!0}function G(a,b){var c="",e="",f=null,g=null,h=b.find("#items-type"),l=b.find("div.heros-list"),n=[],o=[],p=[],q=0;return e=h.attr("data-cur-name"),e===a?!1:(f=k(a),null==f?!1:(c=f.title,o=f.herosDatas,p=f.herosTypes,h.html(c).attr("data-cur-name",a),_has_loading=l.find("div.loading-cont").length>0?!0:!1,g={datas:o,types:p,allshow:!1},void(_has_loading||(l.empty(),i(l),q=parseInt(o.length/2),n=m(o.slice(0,q),p.slice(0,q)),setTimeout(function(){j(l),B({datas:n,$target_dom:l,is_empty:!0,click_fn:d}),l.data("dom-datas",g)},200)))))}var H=$(window),I=$("body"),J=$("#mainmenu"),K=$("#heros"),L=$("#rule"),M=$("#card"),N=$("#strategy"),O=$("#search-info");return $rightDocker=$("#rightDocker"),window.no_support?!1:void(window.show_main_panel?a():setTimeout(function(){$("#loading").hide(),a()},3e3))});